(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{1059:function(t,e,r){"use strict";e.a={props:{followsTitle:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}},block:{type:Object,default:function(){return{}}},first:{type:Boolean,default:!1}}}},1086:function(t,e,r){"use strict";r.r(e);var n={mixins:[r(1059).a]},o=r(12),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"my-6"},[r("p",{staticClass:"text-red-500"},[r("span",{staticClass:"font-bold"},[t._v("`"+t._s(t.block.template)+"`")]),t._v(" Not Found.\n  ")]),t._v(" "),r("pre",[t._v(t._s(t.block))])])}),[],!1,null,null,null);e.default=component.exports},1102:function(t,e,r){"use strict";r(33);var n={components:{NotFoundBlock:r(1086).default},props:{params:{type:Object,default:function(){return{}}},blocks:{type:Array,default:function(){return[]}}},data:function(){return{map:{"field-editor-font-name-search":"FontFamilyNameSearch","field-editor-template-alignment":"TemplateAlignment","field-editor-design-alignment":"DesignAlignment","field-wordmark-multicolor":"WordmarkMulticolor","field-wordmark-multiline":"WordmarkMultiline","field-editor-palette-fields":"PaletteFields","field-editor-set-to-other-font":"OtherFont","field-slogan-multicolor":"SloganMulticolor","field-editor-remove-button":"RemoveButton","field-slogan-multiline":"SloganMultiline","field-editor-color-picker":"ColorPicker","field-editor-font-filters":"FontFilters","field-editor-color-preset":"ColorPreset","field-editor-icon-layout":"IconLayout","field-editor-resize-icon":"IconResize","field-editor-font-weight":"FontWeight","field-editor-change-case":"FontCase","field-editor-font-align":"FontAlign","field-editor-font-style":"FontStyle","field-editor-subtitle":"ControlSub","field-editor-font-size":"FontSize","field-editor-title":"ControlTitle","field-editor-multi-input":"Multi"}}},computed:{components:function(){var t=this;return this.blocks.reduce((function(e,n){var template=n.template;if(!e[template]){var o=t.map[template];o&&(e[template]=function(){return r(1104)("./".concat(o,"Block"))})}return e}),{})}},methods:{getComponent:function(t){var component=this.components[t.template];return component||(console.error("Missing ".concat(t.template," block from map.")),component="NotFoundBlock"),component},followsTitle:function(i){var t;return"field-editor-title"===(null===(t=this.blocks[i-1])||void 0===t?void 0:t.template)}}},o=n,c=r(12),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(t.blocks,(function(e,i){return r(t.getComponent(e),{key:i+e.template,tag:"component",attrs:{"follows-title":t.followsTitle(i),first:0===i,params:t.params,block:e}})})),1)}),[],!1,null,null,null);e.a=component.exports},1104:function(t,e,r){var map={"./ColorPickerBlock":[1193,2,51,142],"./ColorPresetBlock":[1194,155],"./ControlSubBlock":[1195,161],"./ControlTitleBlock":[1196,367],"./DesignAlignmentBlock":[1177,143],"./FontAlignBlock":[1178,147],"./FontCaseBlock":[1197,152],"./FontFamilyNameSearchBlock":[1179,368],"./FontFiltersBlock":[1180,139],"./FontSizeBlock":[1181,140],"./FontStyleBlock":[1182,153],"./FontWeightBlock":[1183,141],"./IconLayoutBlock":[1184,144],"./IconResizeBlock":[1185,154],"./MultiBlock":[1198,156],"./NotFoundBlock":[1086],"./OtherFontBlock":[1199,369],"./PaletteFieldsBlock":[1186,2,51,146],"./RemoveButtonBlock":[1200,157],"./SloganMulticolorBlock":[1187,148],"./SloganMultilineBlock":[1188,149],"./TemplateAlignmentBlock":[1189,145],"./WordmarkMulticolorBlock":[1190,150],"./WordmarkMultilineBlock":[1191,151]};function n(t){if(!r.o(map,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=map[t],n=e[0];return Promise.all(e.slice(1).map(r.e)).then((function(){return r(n)}))}n.keys=function(){return Object.keys(map)},n.id=1104,t.exports=n},1105:function(t,e,r){var content=r(1161);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(86).default)("1e040dc2",content,!0,{sourceMap:!1})},1106:function(t,e,r){var content=r(1163);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(86).default)("18fe8a36",content,!0,{sourceMap:!1})},1159:function(t,e,r){"use strict";r(15),r(13),r(17),r(18);var n=r(4);r(16);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={computed:{params:function(){var t=this,e=Object.keys(this.$options.computed).reduce((function(e,r){return"params"!==r&&(e[r]=t[r]),e}),{});return c(c({},this.$data),e)}}}},1160:function(t,e,r){"use strict";r(1105)},1161:function(t,e,r){var n=r(85)((function(i){return i[1]}));n.push([t.i,".np-icon[data-v-2646249a]{max-width:50px;max-height:50px;filter:invert(45%) sepia(11%) saturate(879%) hue-rotate(176deg) brightness(96%) contrast(87%)}button:hover .np-icon[data-v-2646249a]{filter:invert(11%) sepia(32%) saturate(596%) hue-rotate(183deg) brightness(94%) contrast(96%)}",""]),n.locals={},t.exports=n},1162:function(t,e,r){"use strict";r(1106)},1163:function(t,e,r){var n=r(85)((function(i){return i[1]}));n.push([t.i,".np-icon[data-v-7adcd120]{max-width:50px;max-height:50px}.color-filter[data-v-7adcd120]{filter:contrast(0) invert(50%) sepia(11%) saturate(828%) hue-rotate(177deg) brightness(87%) contrast(92%)}button:hover .color-filter[data-v-7adcd120]{filter:invert(10%) sepia(44%) saturate(546%) hue-rotate(181deg) brightness(90%) contrast(92%)}",""]),n.locals={},t.exports=n},1166:function(t,e,r){"use strict";r(53),r(44);var n={props:{svg:{type:String,default:""},url:{type:String,default:""},iconId:{type:String,default:""},icon:{type:Object,default:function(){return{}}}}},o=(r(1160),r(12)),c=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.icon.preview_url?r("img",{staticClass:"np-icon",attrs:{src:t.icon.preview_url}}):t._e()}),[],!1,null,"2646249a",null).exports,l=r(1),d=(r(19),{props:{url:{type:String,required:!0},icon:{type:Object,default:null}},data:function(){return{path:null,width:null,height:null}},mounted:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getSvgFromUrl();case 3:t.correctBoundingBox(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))()},methods:{getSvgFromUrl:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.get(t.url);case 3:r=e.sent,(data=r.data).paths?t.path=data.paths[0].data:t.path=data.path,t.height=data.height,t.width=data.width,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response&&403===e.t0.response.status&&t.$emit("retry");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},correctBoundingBox:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var svg,path,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{svg=t.$refs.svg,path=t.$refs.path,r=path.getBBox(),n="".concat(r.x," ").concat(r.y," ").concat(r.width," ").concat(r.height),svg.setAttribute("viewBox",n)}catch(e){console.log("problem correcting icon bounding box rendering icon"),console.log("for icon from url"+t.url)}case 1:case"end":return e.stop()}}),e)})))()}}}),f=Object(o.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.path?r("svg",{ref:"svg",staticClass:"fill-current",staticStyle:{"max-width":"50px","max-height":"50px",fill:"#1f384d"},attrs:{viewBox:"0 0 "+t.width+" "+t.height,width:t.width,height:t.height,xmlns:"http://www.w3.org/2000/svg"}},[r("path",{ref:"path",attrs:{d:t.path}})]):t._e()}),[],!1,null,null,null).exports,h=(r(46),{props:{icon:{type:Object,default:function(){return{}}}},computed:{preview:function(){var t,e,r,n=null===(t=this.icon)||void 0===t?void 0:t.raster_sizes;if(n){return null===(e=(Array.isArray(n)?n.find((function(t){var e=t.size;return e>100&&e<500})):n).formats)||void 0===e||null===(r=e[0])||void 0===r?void 0:r.preview_url}}}}),m=(r(1162),{components:{NPIconDisplay:c,IconDisplay:f,IFIconDisplay:Object(o.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.preview?r("img",{staticClass:"np-icon color-filter",attrs:{src:t.preview,alt:"Icon preview"}}):t._e()}),[],!1,null,"7adcd120",null).exports},props:{icon:{type:Object,default:function(){return{}}}},computed:{child_component:function(){return this.icon.id.includes("NOUN_PROJECT")?"NPIconDisplay":this.icon.id.includes("ICONFINDER")?"IFIconDisplay":"IconDisplay"}}}),v=Object(o.a)(m,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.child_component,{tag:"component",attrs:{icon:t.icon,url:t.icon.url,svg:t.icon.svg,"icon-id":t.icon.id},on:{retry:function(e){return t.$emit("retry")}}})}),[],!1,null,null,null);e.a=v.exports},1167:function(t,e,r){"use strict";r(16),r(15),r(17),r(18);var n=r(1),o=r(21),c=r(4),l=(r(19),r(186),r(33),r(295),r(35),r(26),r(34),r(55),r(294),r(13),r(54),r(121)),d=r.n(l),f=r(14),content=r(151),h=r(28);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var v={components:{ArrowRight:d.a},mixins:[Object(content.d)(["data/call-to-actions"],!0)],props:{keywordedPhrases:{type:Array,default:function(){return[]}},search:{type:String,default:null},disabled:{type:Boolean,default:!1},showWordark:{type:Boolean,default:!0},showSlogan:{type:Boolean,default:!0},pagination:{type:Number,default:8}},data:function(){return{phrases:[],limit:8}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({flattenedKeywords:function(){var t=(this.phrases||[]).map((function(t){return t.words.map((function(t){return t.synonyms}))})),e=[].concat(Object(o.a)(this.wordmark),Object(o.a)(this.slogan),Object(o.a)(t)).flat(2);return Object(o.a)(new Set(e))},displayKeywords:function(){return this.flattenedKeywords.slice(0,this.limit)},wordmark:function(){return this.showWordark?this.convertInputToArray(this.session.wordmark):[]},slogan:function(){return this.showSlogan?this.convertInputToArray(this.session.slogan):[]}},Object(h.e)(["session"])),watch:{keywordedPhrases:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.phrases=t||[]}},created:function(){this.limit=this.pagination},mounted:function(){this.search?this.fetchKeywords(this.search):this.phrases=this.keywordedPhrases||[],f.a.$on(f.b.AppWordCloudUpdated,this.fetchKeywords)},beforeDestroy:function(){f.a.$off(f.b.AppWordCloudUpdated,this.fetchKeywords)},methods:{fetchKeywords:function(){var t=arguments,e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>0&&void 0!==t[0]?t[0]:""){r.next=3;break}return r.abrupt("return");case 3:return r.prev=3,r.next=6,e.$api.get("https://kwd.logo.com",{params:{phrases:n.trim()}});case 6:o=r.sent,data=o.data,e.phrases=data.phrases,r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),e.$rollbar.error("Error loading keywords for WordCloud");case 14:case"end":return r.stop()}}),r,null,[[3,11]])})))()},convertInputToArray:function(input){return input?input.toLowerCase().split(" ").filter(Boolean):[]}}},y=v,O=r(12),component=Object(O.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex flex-wrap -mx-2",class:{"opacity-50 cursor-not-allowed":t.disabled}},[t._l(t.displayKeywords,(function(e){return r("span",{key:e,staticClass:"btn cursor-pointer btn-naked mx-1 mb-2 text-sm rounded-full",class:{"pointer-events-none opacity-50":t.disabled},attrs:{type:"button"},on:{click:function(r){return t.$emit("select",e)}}},[t._v("\n    "+t._s(e)+"\n  ")])})),t._v(" "),t.limit<t.flattenedKeywords.length?r("span",{staticClass:"btn cursor-pointer mx-0.5 mb-1 text-xs font-bold text-green-500",class:{"pointer-events-none opacity-50":t.disabled},attrs:{type:"button"},on:{click:function(e){t.limit=t.limit+t.pagination}}},[t._v("\n    "+t._s(t.page.view_more)+"\n\n    "),r("ArrowRight",{staticClass:"w-3.5 h-3.5 ml-1 mb-px"})],1):t._e()],2)}),[],!1,null,null,null);e.a=component.exports},1170:function(t,e,r){"use strict";var n=r(21),o=(r(186),r(27),{props:{initialTabindex:{type:Number,default:-1},autofocus:{type:Boolean,default:!1},tabindex:{type:Number,default:-1}},data:function(){return{classes:["cursor-pointer","outline-none","focus:shadow-primary"]}},computed:{name:function(){return"traverse-".concat(this._uid)}},updated:function(){var t=this;this.$nextTick().then((function(){return t.run()}))},mounted:function(){var t=this;this.$nextTick().then((function(){return t.run()}))},beforeDestroy:function(){var t,e,r=this;null===(t=this.$refs)||void 0===t||null===(e=t.traverse)||void 0===e||e.querySelectorAll("[traverse-target]").forEach((function(t){t.removeEventListener("keydown",r.handleFocus)}))},methods:{run:function(){var t,e,r=this;null===(t=this.$refs)||void 0===t||null===(e=t.traverse)||void 0===e||e.querySelectorAll("[traverse-target]").forEach((function(t,i){var e;if(t&&!t.classList.contains(r.name)){var o=0===i?r.initialTabindex:r.tabindex;t.setAttribute("tabindex",o),t.setAttribute(r.name,i),(e=t.classList).add.apply(e,Object(n.a)(r.classes).concat([r.name])),t.addEventListener("keydown",r.handleFocus),r.autofocus&&0===i&&t.focus()}}))},handleFocus:function(t){var e,r=t.key,n=t.target,i=parseInt(n.getAttribute(this.name))||0,o=null===(e=this.$refs)||void 0===e?void 0:e.traverse,c=null;"ArrowUp"===r&&(c=null==o?void 0:o.querySelector("[".concat(this.name,"='").concat(i-1,"']"))),"ArrowDown"===r&&(c=null==o?void 0:o.querySelector("[".concat(this.name,"='").concat(i+1,"']"))),c&&c.focus()}}}),c=r(12),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"traverse"},[t._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},1439:function(t,e,r){"use strict";r.r(e);r(16),r(15),r(13),r(17),r(18);var n=r(1),o=r(4),c=(r(19),r(53),r(44),r(23)),l=r(21),d=(r(33),r(80),r(186),r(193),r(293)),f={components:{IconRender:r(1166).a},props:{icons:{type:Array,default:function(){return[]}},selectedIcon:{type:Object,default:function(){return{}}}}},h=r(12),m=Object(h.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"grid grid-cols-4 gap-2 mb-8"},t._l(t.icons,(function(e){return r("div",{key:e.id,staticClass:"ratio-square"},[r("button",{staticClass:"btn btn-naked w-full p-2 border-gray-100 text-center text-cool-gray-500",class:{"border-enterprise-primary":e.id===t.selectedIcon.id},attrs:{"traverse-target":"",disabled:e.id===t.selectedIcon.id},on:{click:function(r){return t.$emit("select",e)}}},[r("IconRender",{attrs:{icon:e},on:{retry:function(e){return t.$emit("retry")}}})],1)])})),0)}),[],!1,null,null,null).exports,v=r(28);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var O={components:{ControlTitle:d.a,IconList:m},props:{selectedIcon:{type:Object,default:function(){return{}}},content:{type:Object,default:function(){return{}}}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(v.c)({icons:"history/icons"}))},w=O,_=Object(h.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.icons&&t.icons.length?r("div",[r("ControlTitle",{attrs:{title:t.content.title}}),t._v(" "),r("IconList",{attrs:{icons:t.icons,"selected-icon":t.selectedIcon},on:{retry:function(e){return t.$emit("retry",e)},select:function(e){return t.$emit("select",e)}}})],1):t._e()}),[],!1,null,null,null).exports,j=(r(294),r(121)),k=r.n(j),I=r(1167),x=r(282),content=r(151),P=r(14);function S(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function E(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C={components:{ControlTitle:d.a,ArrowRight:k.a,WordCloud:I.a,TextInput:x.a},mixins:[content.c,content.b],props:{currentIcon:{type:Object,default:function(){return{}}},autoSearch:{type:Boolean,default:!1},searching:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},page:{type:Object,default:function(){return{}}},error:{type:String,default:""},showContinue:{type:Boolean,default:!0}},computed:E(E({search:{get:function(){return this.editor.icon_search_string},set:function(t){this.$store.commit("editor/SET_ICON_SEARCH_STRING",t)}},keywords:function(){return this.getKeywords}},Object(v.e)(["editor","session"])),Object(v.c)({getKeywords:"session/getKeywords"})),mounted:function(){this.autoSearch&&(this.search=this.search||this.keywords[0]||"",this.search&&this.doSearch())},methods:{doSearch:function(){P.a.$emit(P.b.AppWordCloudUpdated,this.search),this.$emit("search",this.search)},searchByKeyword:function(t){this.$store.commit("editor/SET_ICON_SEARCH_STRING",t),this.search=t,this.doSearch()}}};function $(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var R={components:{RecentIcons:_,IconSearch:Object(h.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ControlTitle",{attrs:{title:t.page.search_title.title}}),t._v(" "),r("TextInput",{staticClass:"mb-2",attrs:{id:"icon-search-input",disabled:t.disabled,"status-message":t.error,status:t.error?"error":null,label:t.fields.search.label,placeholder:t.fields.search.placeholder,prompt:t.fields.search.prompt,tippy:t.fields.search.tippy},on:{enter:t.doSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[r("div",{attrs:{slot:"button"},slot:"button"},[r("button",{staticClass:"h-full -ml-2",class:t.buttons.search.classes,attrs:{id:t.buttons.search.id,type:"button",disabled:t.disabled,loading:t.searching},on:{click:t.doSearch}},[t._v("\n        "+t._s(t.buttons.search.text)+"\n      ")])])]),t._v(" "),r("WordCloud",{staticClass:"mb-8",attrs:{search:t.search,"keyworded-phrases":t.session.keywordedPhrases,disabled:t.disabled},on:{select:t.searchByKeyword}}),t._v(" "),t.showContinue?r("div",{staticClass:"mb-6 text-center"},[t.currentIcon.id?t._e():r("n-link",{staticClass:"force-color",class:t.buttons.continue.classes,attrs:{id:t.buttons.continue.id,to:"/editor/colors",disabled:t.disabled},on:{click:function(e){return t.$emit("remove")}}},[t._v("\n      "+t._s(t.buttons.continue.text)+"\n\n      "),r("ArrowRight",{staticClass:"btn-icon-right"})],1)],1):t._e()],1)}),[],!1,null,null,null).exports,IconList:m,Traverse:r(1170).a},props:{currentIcon:{type:Object,default:function(){return{}}},updating:{type:Boolean,default:!1},page:{type:Object,default:function(){return{}}}},data:function(){return{moreIconMessage:"Get More Icons",searching_icons:!1,noMoreResults:!1,iconErrorMessage:"",iconPage:1}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({icons:function(){var t=this.editor.icon_search_results||{},e=t.icons,r=t.related_icons;return[].concat(Object(l.a)(this.flattenIcons(e)),Object(l.a)(this.flattenIcons(r)),Object(l.a)(this.editor.noun_project_search_results||[]))},iconId:function(){return this.editor.logo_preset.icons},disabled:function(){return!this.editor.features.includes("icons")}},Object(v.e)(["editor","session","flags"])),methods:{nextPageIcons:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.noMoreResults){e.next=2;break}return e.abrupt("return");case 2:return t.iconPage+=1,r=t.editor.noun_project_search_results.length,e.next=6,t.getIcons(t.editor.icon_search_string);case 6:r!==t.editor.noun_project_search_results.length?t.noMoreResults=!1:t.noMoreResults=!0;case 7:case"end":return e.stop()}}),e)})))()},resetIconPage:function(){this.noMoreResults=!1,this.iconPage=1},searchIcons:function(t){this.resetIconPage(),this.$store.commit("editor/SET_ICON_SEARCH_RESULTS",{type:"noun_project",data:[]}),t?(this.getIcons(t),P.a.$emit(P.b.AnalyticsSearch,{type:"Editor Icons",search_term:t})):this.iconErrorMessage="Please enter a keyword"},getIcons:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.iconErrorMessage="",e.searching_icons=!0,n=[],r.prev=3,r.next=6,e.$api.get("/api/v3/assets/icons",{params:{keywords:[t],quantity:20,page:e.iconPage,set:"nounproject"}});case 6:o=r.sent,n=(null==o?void 0:o.data)||[],r.next=14;break;case 10:r.prev=10,r.t0=r.catch(3),e.$rollbar.error("Error fetching Editor Icons",r.t0),e.searching_icons=!1;case 14:0===n.length&&(e.iconErrorMessage="We couldn't find any icons for that keyword. Try a simple keyword like: coffee, house, bear, etc."),Array.isArray(n)&&(e.editor.noun_project_search_results&&e.editor.noun_project_search_results.length?(e.$store.commit("editor/ADD_NOUN_PROJECT_RESULTS",n),e.$store.commit("icons/ADD_ICONS",n)):(e.$store.commit("editor/SET_ICON_SEARCH_RESULTS",{type:"noun_project",data:n}),e.$store.commit("icons/ADD_ICONS",n))),e.searching_icons=!1;case 17:case"end":return r.stop()}}),r,null,[[3,10]])})))()},selectIcon:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.updating){r.next=2;break}return r.abrupt("return");case 2:return e.$emit("setCurrentIcon",t),e.$store.commit("editor/SET_LOGO_PRESET_PROPERTY",{resource:c.a.Icons,id:t.id}),P.a.$emit(P.b.EcommerceSelectContent,{type:"icon",id:t.id}),r.next=7,e.$store.dispatch("editor/fetchNewLogoFromState");case 7:case"end":return r.stop()}}),r)})))()},splitStringIntoNumberArray:function(t){return t.match(/\d+/g).map(Number)},flattenIcons:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.values(t);return e.length?e.reduce((function(t,e){return t.concat(e.filter((function(e){return!t.some((function(t){return t.id===e.id}))})))}),[]):[]}}},B=R,D=Object(h.a)(B,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("RecentIcons",{staticClass:"mb-8",attrs:{id:"recent-icons",content:t.page.recent_icons_title,"selected-icon":t.currentIcon},on:{select:t.selectIcon,retry:t.searchIcons}}),t._v(" "),r("IconSearch",{attrs:{"current-icon":t.currentIcon,searching:t.searching_icons,error:t.iconErrorMessage,disabled:t.disabled,page:t.page},on:{search:t.searchIcons}}),t._v(" "),!t.disabled&&t.icons&&t.icons.length?r("Traverse",{attrs:{"initial-tabindex":2}},[r("IconList",{attrs:{id:"icon-results","selected-icon":t.currentIcon,icons:t.icons},on:{select:t.selectIcon,retry:t.searchIcons}}),t._v(" "),t.noMoreResults?t._e():r("div",{staticClass:"text-center mb-4 mt-1"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:t.searching_icons,loading:t.searching_icons},on:{click:t.nextPageIcons}},[t._v("\n        "+t._s(t.moreIconMessage)+"\n      ")])])],1):t._e()],1)}),[],!1,null,null,null).exports,T=r(1102),A=r(1159);function F(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function N(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var M={transition:"fade",components:{IconControl:D,List:T.a},mixins:[Object(content.d)(["editor/controls/icons"]),A.a,content.e],data:function(){return{currentIcon:{}}},computed:N(N({disabled:function(){return!this.editor.features.includes("icons")},picker:function(){return{palette:this.editor.logo_preset.palette_hex,property:this.templateOptions.icon_color}},iconId:function(){return this.editor.logo_preset.icons}},Object(v.e)(["editor"])),Object(v.c)({templateOptions:"editor/templateOptions",updating:"editor/loading_overlay_visible"})),mounted:function(){P.a.$on(P.b.EditorRemoveElement,this.removeIcon),P.a.$on(P.b.EditorSetCustomPalette,this.setPaletteProperty),this.currentIcon.id||this.getCurrentIcon()},beforeDestroy:function(){P.a.$off(P.b.EditorRemoveElement,this.removeIcon),P.a.$off(P.b.EditorSetCustomPalette,this.setPaletteProperty)},methods:N({getCurrentIcon:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.iconId){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t.$api.get("/api/v3/assets/icons/".concat(t.iconId));case 5:r=e.sent,data=r.data,t.currentIcon=data,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t.$rollbar.error('Error loading icon "'.concat(t.iconId,'" into Current Icon'),e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))()},removeIcon:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.currentIcon={},t.$store.commit("editor/SET_LOGO_PRESET_PROPERTY",{resource:c.a.Icons,id:""}),e.next=4,t.$store.dispatch("editor/fetchNewLogoFromState");case 4:case"end":return e.stop()}}),e)})))()},setPaletteProperty:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.property,o=t.value,e.$store.dispatch("editor/setPaletteProperty",{property:n,value:o}),r.next=4,e.$store.dispatch("editor/fetchNewLogoFromState");case 4:case"end":return r.stop()}}),r)})))()}},Object(v.d)({setUpdating:"editor/TOGGLE_LOADING_OVERLAY_VISIBILITY"}))},L=Object(h.a)(M,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.iconId?r("List",{attrs:{blocks:t.page.inputs,params:t.params}}):t._e(),t._v(" "),r("IconControl",{attrs:{"current-icon":t.currentIcon,updating:t.updating,page:t.page},on:{setCurrentIcon:function(e){t.currentIcon=e},setUpdating:t.setUpdating}})],1)}),[],!1,null,null,null);e.default=L.exports}}]);